{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../App.svelte",
    "../Keypad.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import { onMount, onDestroy } from \"svelte\";\n  import Keypad from \"./Keypad.svelte\";\n  import biblia from \"./roh.json\";\n\n  let shown = false;\n  let line1 = '';\n  let line2 = '';\n  let lastAddresses = [\n    {book: \"gn\", chapter: 1, verse: 1, count: 1},\n  ];\n\n  let books = biblia.books;\n  let booksByAbbr = new Map();\n  books.forEach(book => {booksByAbbr[book.abbreviation] = book});\n\n  let bookFilter = \"\";\n  let aBook;\n\n  let selected = {\n    book: \"gn\",\n    chapter: 1,\n    verse: 1,\n    count: 1\n  }\n  let shownAddress = selected;\n\n  GUN_SUPER_PEERS = GUN_SUPER_PEERS || ['http://127.0.0.1/gun'];\n  let gun = Gun(GUN_SUPER_PEERS);\n  let overlay = gun.get('bible').get(window.location.hash || 'demo');\n  overlay.map().on(function(data, key){\n    console.log('Received', key, data);\n  });\n  overlay.get('show').on(function(data, key){shown = data});\n  let overlayAddress = overlay.get('address');\n  overlayAddress.map().on(function(data, key){shownAddress[key] = data});\n  overlay.get('line1').on(function(data){line1 = data});\n  overlay.get('line2').on(function(data){line2 = data});\n\n  $: filteredBooks = bookFilter\n    ? books.filter(matchesBook)\n    : books;\n  // $: filteredLastAddresses = bookFilter\n  //   ? lastAddresses.filter(h => matchesBook(booksByAbbr[h.book]))\n  //   : lastAddresses;\n\n  function matchesBook(book) {\n    const prefix = bookFilter.normalize('NFD').replace(/[\\u0300-\\u036f]/g, \"\").toLowerCase();\n    const bookLower = book.name.normalize('NFD').replace(/[\\u0300-\\u036f]/g, \"\").toLowerCase();\n    return (\n      bookLower.startsWith(prefix) ||\n      book.abbreviation.startsWith(prefix) ||\n      (book.aliases && book.aliases.some(a => a.toLowerCase().startsWith(prefix))) ||\n      (prefix.length >= 2 && bookLower.includes(' '+prefix))\n    );\n  }\n\n  $: aBook = booksByAbbr[shownAddress.book];\n  $: overlayAddress.put(selected);\n  $: overlay.get('line1').put(addressAsString(selected));\n  $: overlay.get('line2').put(addressContent(selected));\n\n  function addToLastAddresses(address) {\n    lastAddresses.unshift({\n      book: address.book,\n      chapter: address.chapter,\n      verse: address.verse,\n      count: address.count\n    });\n    lastAddresses = lastAddresses.filter((h,i) => i === 0 || !equalAddresses(h, address));\n  }\n\n  function addressAsString(address){\n    return booksByAbbr[address.book].name + ' ' +\n           address.chapter +\n           (address.verse ? ','+address.verse : '') +\n           (address.count > 1 ? '-'+(address.verse+address.count-1) : '');\n  }\n\n  function addressContent(address){\n    var book = booksByAbbr[shownAddress.book];\n    var content = '';\n    if (book.chapters[selected.chapter]) {\n      for (var i=selected.verse; i < selected.verse+selected.count; i++) {\n        content += '\\n' + book.chapters[selected.chapter][i-1] || '';\n      }\n    }\n    return content;\n  };\n\n  function equalAddresses(a, b) {\n    return  a.book == b.book &&\n            a.chapter == b.chapter &&\n            a.verse == b.verse &&\n            a.count == b.count;\n  }\n\n  function addressSelector(address) {\n    address.chapter = address.chapter || '';\n    address.verse = address.verse || '';\n    address.count = address.count || 1;\n    return function() {selected = address};\n  }\n\n  function removeLastAddress(j) {\n    return function() {\n      lastAddresses = lastAddresses.filter((h, i) => (i !== j));\n    }\n  }\n\n  function toggleLine() {\n    shown = !shown;\n    overlay.get('show').put(shown);\n    if (shown) {\n      addToLastAddresses(selected);\n    }\n  }\n</script>\n\n<style>\n  .control-button {\n    width: 6rem;\n    /* float: right; */\n  }\n  .books-filter,\n  .address-filter {\n    display: block;\n    width: 49%;\n    margin: 0 1% 0 0;\n    padding: 0;\n    height: 10rem;\n    overflow: scroll;\n    float: left;\n    max-width: 15rem;\n  }\n  .book-item {\n    width: 100%;\n    margin: 0 0 .25rem 0;\n    padding: .25rem .5rem;\n    text-align: left;\n  }\n  .address-item {\n    width: 100%;\n    margin: 0 0 .25rem 0;\n    max-width: 30rem;\n  }\n  .address-set {\n    width: auto;\n    padding: .25rem .5rem;\n    margin: 0;\n    text-align: left;\n  }\n  .address-remove {\n    margin: 0;\n    max-width: 2rem;\n    padding: .25rem .5rem;\n  }\n  .vers,\n  .address {\n    color: white;\n  }\n  :global(body) {\n    color: white;\n  }\n  button {\n    margin: 0;\n    line-height: 2rem;\n    width: 2.8rem;\n  }\n</style>\n\n<div class=\"input-group\" style=\"width: 100%; display: flex;\">\n  <input class=\"form-control\" type=\"text\" placeholder=\"filter\" bind:value={bookFilter} />\n  <button type=\"button\" class=\"form-control btn btn-secondary\" on:click={()=>{bookFilter=''}} style=\"max-width: 2rem;\">×</button>\n</div>\n<div class=\"books-filter\">\n  {#each filteredBooks as book}\n  <button class=\"book-item btn\" class:btn-primary={book.abbreviation==shownAddress.book} on:click={addressSelector({book: book.abbreviation})}>{book.name}</button>\n  {/each}\n</div>\n<div class=\"address-filter\">\n  {#each lastAddresses as address, i}\n  <div class=\"address-item btn-group\">\n    <button class=\"address-set btn\" class:btn-primary={equalAddresses(address, shownAddress)} on:click={addressSelector(address)}>{addressAsString(address)}</button>\n    <button class=\"btn address-remove\" on:click={removeLastAddress(i)}>×</button>\n  </div>\n  {/each}\n</div>\n\n<div style=\"display: inline-block; margin: 0 .5rem 0 0;\">\n  Kapitola: {selected.chapter}\n  <Keypad bind:value={selected.chapter} max={Object.keys(aBook.chapters).length} />\n  <button class=\"control-button btn\" on:click={toggleLine} class:btn-danger={shown} class:btn-success={!shown}>\n    {#if shown}Skryť{:else}Zobraziť{/if}\n  </button>\n</div>\n<div style=\"display: inline-block;\">\n  Od verša: {selected.verse}\n  <Keypad bind:value={selected.verse} max={(aBook.chapters[selected.chapter]||[]).length} />\n  <button class=\"btn btn-primary\" on:click={function(){selected.count -= 1}}\n          disabled={selected.count <= 1}>-1</button>\n  <button class=\"btn btn-primary\" on:click={function(){selected.count += 1}}\n          disabled={selected.verse+selected.count > (aBook.chapters[selected.chapter]||[]).length}>+1</button>\n  do {selected.verse + selected.count - 1}\n</div>\n\n<div class=\"address\">{line1}</div>\n<span class=\"vers\">{@html line2}</span>\n\n",
    "<script>\n  import { createEventDispatcher } from \"svelte\";\n\n  export let value = \"\";\n  export let max = 99999999;\n\n  const dispatch = createEventDispatcher();\n\n  const select = num => () => {value = Math.min(+value * 10 + num, max||99999999)};\n  const decrement = () => {value = Math.max(1, +value - 1)};\n  const increment = () => {value = Math.min(+value + 1, max||99999999)};\n  const clear = () => {value = \"\"};\n  const backspace = () => {value = Math.floor(+value / 10) || ''};\n</script>\n\n<style>\n  .keypad {\n    display: grid;\n    grid-template-columns: repeat(3, 2.8rem);\n    grid-template-rows: repeat(5, 2.8rem);\n    grid-gap: 0.2rem;\n    margin: 0 0 0.5rem 0;\n  }\n\n  button {\n    margin: 0;\n    line-height: 2rem;\n    width: 2.8rem;\n  }\n</style>\n\n<div class=\"keypad\">\n  <button class=\"btn btn-primary\" on:click={select(1)}>1</button>\n  <button class=\"btn btn-primary\" on:click={select(2)}>2</button>\n  <button class=\"btn btn-primary\" on:click={select(3)}>3</button>\n\n  <button class=\"btn btn-primary\" on:click={select(4)}>4</button>\n  <button class=\"btn btn-primary\" on:click={select(5)}>5</button>\n  <button class=\"btn btn-primary\" on:click={select(6)}>6</button>\n\n  <button class=\"btn btn-primary\" on:click={select(7)}>7</button>\n  <button class=\"btn btn-primary\" on:click={select(8)}>8</button>\n  <button class=\"btn btn-primary\" on:click={select(9)}>9</button>\n\n  <button class=\"btn btn-primary\" on:click={backspace} disabled={!value}>←</button>\n  <button class=\"btn btn-primary\" on:click={select(0)}>0</button>\n  <button class=\"btn btn-primary\" on:click={clear} disabled={!value} >C</button>\n\n  <button class=\"btn btn-primary\" on:click={decrement} disabled={value <= 1}>-1</button>\n  <button class=\"btn btn-primary\" on:click={increment} disabled={value == max}>+1</button>\n</div>\n"
  ],
  "names": [],
  "mappings": "AAwHE,eAAe,cAAC,CAAC,AACf,KAAK,CAAE,IAAI,AAEb,CAAC,AACD,2BAAa,CACb,eAAe,cAAC,CAAC,AACf,OAAO,CAAE,KAAK,CACd,KAAK,CAAE,GAAG,CACV,MAAM,CAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAChB,OAAO,CAAE,CAAC,CACV,MAAM,CAAE,KAAK,CACb,QAAQ,CAAE,MAAM,CAChB,KAAK,CAAE,IAAI,CACX,SAAS,CAAE,KAAK,AAClB,CAAC,AACD,UAAU,cAAC,CAAC,AACV,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CACpB,OAAO,CAAE,MAAM,CAAC,KAAK,CACrB,UAAU,CAAE,IAAI,AAClB,CAAC,AACD,aAAa,cAAC,CAAC,AACb,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CACpB,SAAS,CAAE,KAAK,AAClB,CAAC,AACD,YAAY,cAAC,CAAC,AACZ,KAAK,CAAE,IAAI,CACX,OAAO,CAAE,MAAM,CAAC,KAAK,CACrB,MAAM,CAAE,CAAC,CACT,UAAU,CAAE,IAAI,AAClB,CAAC,AACD,eAAe,cAAC,CAAC,AACf,MAAM,CAAE,CAAC,CACT,SAAS,CAAE,IAAI,CACf,OAAO,CAAE,MAAM,CAAC,KAAK,AACvB,CAAC,AACD,mBAAK,CACL,QAAQ,cAAC,CAAC,AACR,KAAK,CAAE,KAAK,AACd,CAAC,AACO,IAAI,AAAE,CAAC,AACb,KAAK,CAAE,KAAK,AACd,CAAC,AACD,MAAM,cAAC,CAAC,AACN,MAAM,CAAE,CAAC,CACT,WAAW,CAAE,IAAI,CACjB,KAAK,CAAE,MAAM,AACf,CAAC;ACxJD,OAAO,eAAC,CAAC,AACP,OAAO,CAAE,IAAI,CACb,qBAAqB,CAAE,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,CACxC,kBAAkB,CAAE,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,CACrC,QAAQ,CAAE,MAAM,CAChB,MAAM,CAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,AACtB,CAAC,AAED,MAAM,eAAC,CAAC,AACN,MAAM,CAAE,CAAC,CACT,WAAW,CAAE,IAAI,CACjB,KAAK,CAAE,MAAM,AACf,CAAC"
}